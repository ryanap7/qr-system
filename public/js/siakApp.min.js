"use strict";
function AgeYearServer(t, a, e, i, n, s) {
    i < 100 && (i += 1900);
    var r = i - e;
    return n <= ++t && (n < t || s < a) && r--, r;
}
function siakValidDate(t) {
    var a = t.split("-"),
        e = parseInt(a[0], 10),
        i = parseInt(a[1], 10),
        n = parseInt(a[2], 10);
    if (isNaN(e)) return !1;
    if (isNaN(i)) return !1;
    if (isNaN(n)) return !1;
    if (String(e).length < 1) return !1;
    if (String(i).length < 1) return !1;
    if (String(n).length < 4) return !1;
    var s = new Date(n, i - 1, e);
    return s.getFullYear() == n && s.getMonth() + 1 == i && s.getDate() == e;
}
function siakDiffDay(t, a) {
    return Math.round(Math.abs((t.getTime() - a.getTime()) / 864e5));
}
var SiakApp = {
    init: () => {
        !(function (t) {
            (t.fn.prefixData = function (a) {
                let e = {};
                if (1 == this.length) {
                    let i = t(this).data(),
                        n = Object.keys(i).filter(function (t) {
                            return (
                                0 ===
                                t
                                    .replace(/([a-zA-Z])(?=[A-Z])/g, "$1-")
                                    .toLowerCase()
                                    .indexOf(a)
                            );
                        });
                    for (let t = 0; t < n.length; t++) {
                        let a = n[t];
                        e[
                            a
                                .replace(/([a-zA-Z])(?=[A-Z])/g, "$1-")
                                .toLowerCase()
                        ] = i[a];
                    }
                }
                return e;
            }),
                (t.fn.select_readonly = function (a) {
                    (a = void 0 === a || a),
                        this.filter("select").each(function () {
                            a
                                ? (t(
                                      "option:not(:eq(" +
                                          this.selectedIndex +
                                          "))",
                                      t(this)
                                  ).attr("disabled", !0),
                                  t(this).hasClass("m_selectpicker") &&
                                      t(this).addClass("readonly"),
                                  t(this).attr("readonly", !0))
                                : (t("option", t(this)).attr("disabled", !1),
                                  t(this).hasClass("m_selectpicker") &&
                                      t(this).removeClass("readonly"),
                                  t(this).attr("readonly", !1));
                        });
                });
        })(jQuery);
    },
    timeConversion: (t, a) => {
        a = void 0 !== a ? a : " ";
        let e = [],
            i = 36e5,
            n = Math.trunc(t / i);
        n > 0 && (e.push(n + "h"), (t -= n * i));
        let s = Math.trunc(t / 6e4);
        s > 0 && (e.push(s + "m"), (t -= 6e4 * s));
        let r = Math.trunc(t / 1e3);
        return r > 0 && e.push(r + "s"), e.join(a);
    },
    loginForm: (() => {
        let t = $("#SIAKPage"),
            a = $("#m_login", t),
            e = $("#siaklogin_container", a),
            i = $("#main_form_login", e),
            n = $('button[type="submit"]', i),
            s = $(".m-login__forget-password", e),
            r = $("a#m_login_forget_password", i),
            o = $("#login-alert-icon", s),
            l = () => {
                a.removeClass("m-login--forget-password"),
                    a.removeClass("m-login--signup"),
                    a.addClass("m-login--signin"),
                    mUtil.animateClass(
                        a.find(".m-login__signin")[0],
                        "flipInX animated"
                    );
            },
            d = () => {
                $("#m_login_forget_password", e).click(function (t) {
                    t.preventDefault(),
                        a.removeClass("m-login--signin"),
                        a.removeClass("m-login--signup"),
                        a.addClass("m-login--forget-password"),
                        mUtil.animateClass(
                            a.find(".m-login__forget-password")[0],
                            "flipInX animated"
                        );
                }),
                    $("#m_login_forget_password_cancel", e).click(function (t) {
                        t.preventDefault(), l();
                    }),
                    $("#m_login_signup", e).click(function (t) {
                        t.preventDefault(),
                            a.removeClass("m-login--forget-password"),
                            a.removeClass("m-login--signin"),
                            a.addClass("m-login--signup"),
                            mUtil.animateClass(
                                a.find(".m-login__signup")[0],
                                "flipInX animated"
                            );
                    }),
                    $("#m_login_signup_cancel", e).click(function (t) {
                        t.preventDefault(), l();
                    });
            };
        return {
            getContainer: () => e,
            getForm: () => i,
            getSubmitButton: () => n,
            getErrorContainer: () => ({ container: s, iconPlaceHolder: o }),
            loginFlipError: (t) => {
                o.addClass("m--hide"),
                    $("div.m-alert__text", o).empty().html(t),
                    o.removeClass("m--hide"),
                    r.click();
            },
            disable: () => {
                d(),
                    i.removeAttr("action").attr("action", "javascript:;"),
                    n
                        .removeClass("btn-success")
                        .addClass("btn-default disabled"),
                    n.prop("disabled", !0);
            },
            enable: (t) => {
                d();
                let a = (t) => {
                        var a = t.data("skin")
                                ? "m-tooltip--skin-" + t.data("skin")
                                : "",
                            e =
                                "auto" == t.data("width")
                                    ? "m-tooltop--auto-width"
                                    : "",
                            i = t.data("trigger") ? t.data("trigger") : "hover",
                            n =
                                '<div class="m-tooltip ' +
                                a +
                                " " +
                                e +
                                ' tooltip" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>';
                        t.tooltip({ trigger: i, template: n });
                    },
                    e = (t) => {
                        void 0 !== t
                            ? (t.tooltip("dispose"), a(t))
                            : $('[data-toggle="m-tooltip-2"]').each((t, e) => {
                                  let i = $(e);
                                  i.tooltip("dispose"), a(i);
                              });
                    };
                $(".lihat_sandi", i).each((t, a) => {
                    $(a).on("click", (t) => {
                        let a = $(t.currentTarget),
                            i = a.closest(".m-input-icon"),
                            n = a.data("status");
                        a.removeAttr("data-placement").removeData("placement"),
                            a.removeAttr("data-skin").removeData("skin"),
                            parseInt(n) > 0
                                ? ($(".form-control", $(i)).attr(
                                      "type",
                                      "password"
                                  ),
                                  $(".la", $(i))
                                      .removeClass("la-eye-slash")
                                      .addClass("la-eye"),
                                  a
                                      .removeAttr("data-original-title")
                                      .removeData("original-title"),
                                  a
                                      .attr(
                                          "data-original-title",
                                          "Tampilkan sandi"
                                      )
                                      .data(
                                          "original-title",
                                          "Tampilkan sandi"
                                      ),
                                  a
                                      .attr("data-title", "Tampilkan sandi")
                                      .data("title", "Tampilkan sandi"),
                                  a
                                      .removeAttr("data-status")
                                      .removeData("status"),
                                  a
                                      .attr("data-status", "0")
                                      .data("status", "0"))
                                : ($(".form-control", $(i)).attr(
                                      "type",
                                      "text"
                                  ),
                                  $(".la", $(i))
                                      .removeClass("la-eye")
                                      .addClass("la-eye-slash"),
                                  a
                                      .removeAttr("data-original-title")
                                      .removeData("original-title"),
                                  a
                                      .attr(
                                          "data-original-title",
                                          "Sembunyikan sandi"
                                      )
                                      .data(
                                          "original-title",
                                          "Sembunyikan sandi"
                                      ),
                                  a
                                      .attr("data-title", "Sembunyikan sandi")
                                      .data("title", "Sembunyikan sandi"),
                                  a
                                      .removeAttr("data-status")
                                      .removeData("status"),
                                  a
                                      .attr("data-status", "1")
                                      .data("status", "1")),
                            a
                                .attr("data-placement", "bottom")
                                .data("placement", "bottom"),
                            a.attr("data-skin", "dark").data("skin", "dark"),
                            e(a),
                            a.tooltip("show");
                    });
                }),
                    e(),
                    i.removeAttr("action").attr("action", t),
                    n
                        .removeClass("btn-default disabled")
                        .addClass("btn-success"),
                    n.prop("disabled", !1);
            },
        };
    })(),
};
jQuery(document).ready(function () {
    SiakApp.init();
});
